@import com.gu.identity.model.EmailEmbed
@import experiments.{ActiveExperiments, NewsletterEmbedDesign}
@(page: model.Page, emailType: String, listName: String, emailEmbedData: EmailEmbed)(implicit request: RequestHeader, context: model.ApplicationContext)

@electionNewsletters = @{List("minute-us", "us-morning-newsletter", "today-us", "green-light")}

@emailEmbed(page) {
    @if(ActiveExperiments.isParticipating(NewsletterEmbedDesign) && electionNewsletters.contains(listName)){
        @fragments.email.signup.subscription.emailSignUpNewDesign(
            emailType,
            listName,
            emailEmbedData
        )
    } else {
      @fragments.email.signup.subscription.emailSignUp(
          emailType,
          listName,
          emailEmbedData
        )
    }

}
